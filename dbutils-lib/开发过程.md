# 写资源清理的类

就是原本的DbUtils类，只写close

# 编写SqlExecutor

就是原本的QueryRunner类

只实现update的2个方法，完成cud

难点是2个

- 原本框架的prepareStatement方法的阅读
- fillStatement方法的阅读，里面包含jdbc空值的处理

# 支持DataSource

原本的Dbutils框架的理念是：update方法有Connection作为参数的一系列重载，框架是不帮你关闭的，用户自己处理COnnection的关闭

没有Connection参数的update方法，都是框架自己从DataSource中获取连接，因为连接是框架自己获取的，所以它自己负责关闭



## 改造Connection获取逻辑



## 添加父类

因为getDataSource，prepareConnection这2个方法，源码中都说要留着给子类重写用，基于这个逻辑，就决定创建父类出来

这样，框架的用户在不满意我们框架的功能的时候，他可以选择重写SqlExecutor或者重写AbstractSqlExecutor



# query方法

## ResultSetHandler接口的作用

## 实现query私有方法

在父类编写checkConnection,checkResultSet等

理解我什么选择在私有query方法中抛出SQLException，在public的query方法中捕获异常，不抛检查异常



在父类中编写了3个close方法，理由与prepareConnection和getDataSource差不多

## 改造update方法

​	要把update方法中的清理资源的代码，改造为抛出异常的情况

要理解update0与update这两个私有方法为什么这么写

# ScalarHandler

## 构造函数的写法

# ArrayHandler的实现

理解ArrayHandler只处理第一条记录

	## 理解MetaData

## 怎么使用ArrayHandler

见测试类

## 返回空数组的处理



# MapHandler

## 别名与列名的获取



# 改造ArrayHandler与MapHandler

​	让这2个Handler都支持获取所有记录，而不是像现在这样，只能获取第一条记录

提示：ArrayHandler返回的数据是List<Object[]> 

MapHandler:List<Map<String,Object>>



